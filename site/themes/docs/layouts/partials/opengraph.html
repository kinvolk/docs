{{- $postImage := .Params.postimage -}}
{{- $ogImageWidth := 1200 -}}
{{- $ogImageHeight := 600 -}}
{{- if $postImage -}}
    {{- $postImage = printf (default "" "") "/media/%s" $postImage -}}
    {{- $ogImageWidth = 0 -}}
    {{- $ogImageHeight = 0 -}}
{{- end -}}
{{- $title := "" -}}
{{- if not (.Section | eq "") -}}
    {{- $title = printf .Site.Title " %s" .Title -}}
{{- end -}}
{{- $ogTitle := default .Site.Params.description $title -}}
{{- $ogDescription := default $title (default .Params.description .Params.tagline) -}}
<!-- Open Graph meta tags -->
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="og:title" content="{{- $ogTitle -}}" />
<meta property="og:description" content="{{- $ogDescription -}}" />
<meta property="og:url" content="{{- .Permalink -}}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
<meta property="article:modified_time" content="{{- hugo.BuildDate -}}" />
{{- $ogImage := default .Site.Params.opengraph.image $postImage -}}
{{- if $ogImage -}}
<meta property="og:image" content="{{- $ogImage -}}" />
{{- if gt $ogImageWidth 0 -}}
    <meta property="og:image:width" content="{{- $ogImageWidth -}}" />
    <meta property="og:image:height" content="{{- $ogImageHeight -}}" />
{{- end -}}
{{- end -}}
{{- $twitter := .Site.Params.twitter -}}
{{- if $twitter -}}
<!-- Twitter meta tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="{{ $ogImage }}" />
<meta name="twitter:creator" content="@{{ .Site.Params.twitter }}" />
<meta name="twitter:site" content="@{{ .Site.Params.twitter }}" />
{{- end -}}